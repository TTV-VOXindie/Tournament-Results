<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<link rel="stylesheet" href="https://ttv-voxindie.github.io/Tournament-Results/style.css">
	</head>
	<body>
		<script>
		$.getJSON("https://ttv-voxindie.github.io/Tournament-Results/data.json", function(data){
		  
		  
		  buildTable($("#scoreTable"), data.Data);
		  
		});
		
		// Builds the HTML Table out of myList.
		function buildTable(tableElement, data) {
			addColumnHeaders(tableElement);

			for (var i = 0; i < data.length; i++) {
				addDataRows(tableElement, data[i]);
			}
		}

		function addColumnHeaders(tableElement) {
		  var headerTr = $('<tr/>');
		  
		  var headerList = [
		  "Player",
		  "Kills",
		  "Assists",
		  "Damage",
		  "Executions",
		  "Score",
		  "Streak",
		  "Time",
		  "Placement",
		  "Total Points"
		  ];

		  for (var i = 0; i < headerList.length; i++) {
			headerTr.append($('<th/>').html(headerList[i]));
		  }
		  
		  tableElement.append(headerTr);
		}
		
		function addDataRows(tableElement, matchData)
		{
			for (var i = 0; i < matchData.length; i++) {
				var data = matchData[i];
				var tr = $('<tr/>');
				tr.append($('<td/>').text(data.PlayerId));
				tr.append(makeCell(data.Kills, data.KillScore));
				tr.append(makeCell(data.Assists, data.AssistScore));
				tr.append(makeCell(data.DamageDone, data.DamageDoneScore));
				tr.append(makeCell(data.Executions, data.ExecutionScore));
				tr.append(makeCell(data.Score, data.ScoreScore));
				tr.append(makeCell(data.LongestStreak, data.LongestStreakScore));
				tr.append(makeCell(data.TeamSurvivalTimeInMilliseconds, data.TeamSurvivalTimeInMillisecondsScore));
				tr.append(makeCell(data.TeamPlacement, data.TeamPlacementScore));
				tr.append($('<td/>').text(data.TotalScore));
				tableElement.append(tr);
			}
		}
		
		function makeCell(value, score)
		{
			var td = $('<td/>');
			
			var valueSpan = $('<span/>').text(value);
			var scoreSpan = $('<span/>').text(score);
			
			var br = $('<br/>');
			
			td.append(valueSpan);
			td.append(br);
			td.append(scoreSpan);
			
			return td;
		}
		</script>
		<div>
		
		<table id="scoreTable">
		</table>
		
		
		</div>
	</body>
</html>